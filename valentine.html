<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Valentine ‚ù§Ô∏è</title>
    <style>
        :root{
            --bg: #fff0f3;
            --accent: #ff4d6d;
            --muted: #adb5bd;
            --card: rgba(255,255,255,0.98);
            --shadow: rgba(255,77,109,0.18);
            font-size: 16px;
        }

        *{box-sizing:border-box}
        body {
            margin: 0;
            padding: 2rem;
            min-height: 100vh;
            background: linear-gradient(180deg, var(--bg) 0%, #ffeef4 100%);
            font-family: 'Georgia', serif;
            display:flex;
            align-items:center;
            justify-content:center;
            overflow-x:hidden;
            color: #3b2a31;
        }

        .container{
            width:100%;
            max-width:1100px;
            display:flex;
            gap:2rem;
            align-items:flex-start;
            justify-content:center;
            flex-direction:column;
        }

        #askSection {
            z-index: 10;
            background: var(--card);
            padding: clamp(28px, 4vw, 56px);
            border-radius: 28px;
            box-shadow: 0 12px 40px var(--shadow);
            border: 2px solid rgba(255,179,193,0.6);
            transition: all 0.5s ease;
            text-align:center;
        }

        h1 { color: var(--accent); font-size: clamp(1.6rem, 3.5vw, 2.8rem); margin: 0 0 6px; }
        p.subtext { color: #c9184a; font-style: italic; margin: 0 0 18px; }

        .buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 18px;
            margin-top: 20px;
        }

        button {
            padding: 12px 28px;
            font-size: clamp(1rem, 2.5vw, 1.25rem);
            border: none;
            border-radius: 40px;
            cursor: pointer;
            transition: transform 0.18s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-weight: 700;
            box-shadow: 0 6px 18px rgba(0,0,0,0.08);
        }

        #yesBtn { background-color: var(--accent); color: white; }
        #noBtn { background-color: var(--muted); color: white; position: relative; }

        #celebration {
            display: none;
            width: 100%;
            padding: 28px 18px;
            animation: fadeIn 1.6s ease both;
            text-align:center;
        }

        .media-grid {
            display:grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 16px;
            margin-top: 22px;
        }

        .media-item{
            width:100%;
            aspect-ratio: 16/10;
            object-fit:cover;
            border-radius: 14px;
            border:8px solid white;
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
            background:#fff;
        }

        .emoji{
            position: fixed;
            pointer-events: none;
            font-size: 2.2rem;
            animation: fly 2.2s linear forwards;
            z-index: 100;
            filter: drop-shadow(0 6px 8px rgba(0,0,0,0.12));
        }

        @keyframes fly {
            0% { transform: translate(0,0) rotate(0deg); opacity: 1; }
            100% { transform: translate(var(--x), var(--y)) rotate(640deg); opacity: 0; }
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

        /* Responsive adjustments */
        @media (min-width:900px){
            .container{flex-direction:column}
        }

        /* Focus outlines for accessibility */
        button:focus{outline:3px solid rgba(255,77,109,0.25); outline-offset:4px}

    </style>
</head>
<body>
    <div class="container">
        <section id="askSection" aria-labelledby="ask-title" role="region">
            <h1 id="ask-title">Will you be my Valentine? üåπ</h1>
            <p class="subtext">"Forever... I'm gonna love you forever..."</p>
            <div class="buttons">
                <button id="yesBtn" aria-label="Yes, be my valentine">Yes</button>
                <button id="noBtn" aria-label="No, not today">No</button>
            </div>
            <p style="margin-top:12px;color:#7a4a55;font-size:0.95rem">Tip: hover the <strong>No</strong> button for a surprise üòâ</p>
        </section>

        <section id="celebration" aria-hidden="true">
            <h1 style="font-size: clamp(1.6rem, 4vw, 3.5rem); margin:0">I Love You! ‚ù§Ô∏è</h1>
            <p style="font-size:1rem; color:var(--accent); font-style:italic; margin:6px 0 16px;">"Ooh, I'm gonna love you forever..."</p>

            <div class="media-grid" id="mediaGrid">
                <!-- Example media items. Replace with real paths or allow drag/drop in future enhancements -->
                <video class="media-item" controls playsinline src="F8C3B2E3-3AA4-4C14-88AD-1A3E9AAA601C.mov" aria-label="Video 1"></video>
                <video class="media-item" controls playsinline src="ArcadiaEarthMedia_localhost_7_20_2024_18_3_34.mov" aria-label="Video 2"></video>
                <video class="media-item" controls playsinline src="IMG_5469.mov" aria-label="Video 3"></video>

                <img class="media-item" src="7a9004c4-3601-4972-acf6-76166b32ee2b.jpeg" alt="Photo 1">
                <img class="media-item" src="IMG_2152.jpg" alt="Photo 2">
                <img class="media-item" src="IMG_1947.jpg" alt="Photo 3">
                <img class="media-item" src="lp_image.jpg" alt="Photo 4">
                <img class="media-item" src="IMG_1430.jpg" alt="Photo 5">
                <img class="media-item" src="IMG_5202.jpg" alt="Photo 6">
                <img class="media-item" src="IMG_5323.jpg" alt="Photo 7">
            </div>

            <h2 style="margin-top:18px; color:var(--accent); letter-spacing:2px; font-size:1.1rem">FOREVER & ALWAYS</h2>
        </section>

    </div>

    <audio id="loveSong" preload="none">
        <source src="https://www.myinstants.com/media/sounds/barbara-mason-forever.mp3" type="audio/mpeg">
    </audio>

    <script>
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const askSection = document.getElementById('askSection');
        const celebration = document.getElementById('celebration');
        const song = document.getElementById('loveSong');

        let yesScale = 1;
        const emojiList = ['üê±','üç©','üíñ','üíù','‚ù§Ô∏è','üß°','üíõ','üíö','üíô','üíú','üòª','‚ú®'];
        let emojiInterval = null;

        function spawnEmojis(clientX = window.innerWidth/2, clientY = window.innerHeight/2, count = 12) {
            for (let i = 0; i < count; i++) {
                const e = document.createElement('div');
                e.className = 'emoji';
                e.innerText = emojiList[Math.floor(Math.random() * emojiList.length)];

                // start near the pointer but jitter a bit
                const jitterX = (Math.random() - 0.5) * 40;
                const jitterY = (Math.random() - 0.5) * 40;
                e.style.left = (clientX + jitterX) + 'px';
                e.style.top = (clientY + jitterY) + 'px';

                const x = (Math.random() - 0.5) * (window.innerWidth * 0.9);
                const y = -Math.abs((Math.random() * (window.innerHeight * 0.9))) - 60;
                e.style.setProperty('--x', `${x}px`);
                e.style.setProperty('--y', `${y}px`);

                document.body.appendChild(e);
                setTimeout(() => e.remove(), 2200);
            }
        }

        // Teleporting NO button and grow YES
        noBtn.addEventListener('pointerenter', (ev) => {
            const padding = 16;
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth - padding);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight - padding);
            noBtn.style.position = 'fixed';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';

            yesScale = Math.min(4, yesScale + 0.35);
            yesBtn.style.transform = `scale(${yesScale})`;

            spawnEmojis(ev.clientX, ev.clientY, 10);
        });

        // Provide keyboard accessibility: move NO on focus too
        noBtn.addEventListener('focus', (ev) => {
            const rect = noBtn.getBoundingClientRect();
            // emulate small pointer location
            spawnEmojis(rect.left + rect.width/2, rect.top + rect.height/2, 8);
        });

        // YES button reveal
        yesBtn.addEventListener('click', async () => {
            askSection.style.display = 'none';
            celebration.style.display = 'block';
            celebration.setAttribute('aria-hidden', 'false');
            document.body.style.overflowY = 'auto';

            // Try to play the song; many browsers require a user gesture which this click is.
            try {
                if (song.paused) {
                    song.currentTime = 0;
                    await song.play();
                }
            } catch (err) {
                console.warn('Autoplay blocked or failed:', err);
            }

            // Start continuous emoji celebration (stop previous if running)
            if (emojiInterval) clearInterval(emojiInterval);
            emojiInterval = setInterval(() => {
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight;
                spawnEmojis(x, y, 8);
            }, 450);
        });

        // Small progressive enhancement: allow space/enter activation for keyboard users
        yesBtn.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                yesBtn.click();
            }
        });

        // Hide focus outline when using pointer but keep for keyboard
        function handlePointer() { document.documentElement.style.setProperty('--focus-visible', '0'); }
        function handleKeyboard() { document.documentElement.style.setProperty('--focus-visible', '1'); }
        window.addEventListener('pointerdown', handlePointer, {once:true});
        window.addEventListener('keydown', handleKeyboard, {once:true});

        // Cleanup on unload
        window.addEventListener('beforeunload', () => { if (emojiInterval) clearInterval(emojiInterval); });

    </script>
</body>
</html>